<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>GUI</title>
<meta name="description" content="" />
<link rel="stylesheet" href="../static/css/main.css" th:href="@{css/main.css}" />
<script src="../static/js/Chart.bundle.js" th:src="@{js/Chart.bundle.js}"></script>
<script
	src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<style>
canvas {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
}
</style>
</head>

<body>
	<div id="pagewrap">
		<div id="header">
			<div class="imgcontainer">
				<h1>SISTEMA DE TIENDAS DE ABARROTES</h1>
			</div>
			<ul>
				<li><a href="store.html" th:href="@{/store}">Tiendas</a></li>
				<li><a href="statistics.html" th:href="@{/statistics}">Estadisticas</a></li>
				<li><a href="login.html" th:href="@{/index}">Salir</a></li>
			</ul>
		</div>
		<div id="content">
			<form action="action_page.php">

				<div class="container">
					<h1>Estadisticas</h1>
					<label><b>Tienda: </b></label> <select>
						<option value="volvo">Seleccionar Tienda ....</option>
						<option value="volvo">Todas las tiendas</option>
						<option value="volvo">Queretaro 1</option>
						<option value="volvo">Mexicali super</option>
						<option value="volvo">Aguascalientes</option>
					</select>
					<button type="submit">Generar Estadisticas de energia</button>
				</div>
				<div class="container">
					<div class="graph">
						<div>
							<h3>Temperatura Interna</h3>
						</div>
						<div>
							<canvas id="temperatura_interna"></canvas>
						</div>
					</div>
					<div class="graph">
						<div>
							<h3>Temperatura Externa</h3>
						</div>
						<div>
							<canvas id="temperatura_externa"></canvas>
						</div>
					</div>
					<div class="graph">
						<div>
							<h3>Peso</h3>
						</div>
						<div>
							<canvas id="peso"></canvas>
						</div>
					</div>
				</div>
			</form>
		</div>
		<script>
			var randomScalingFactor = function() {
				return Math.round(Math.random() * 100);
				//return 0;
			};
			var randomColorFactor = function() {
				return Math.round(Math.random() * 255);
			};
			var randomColor = function(opacity) {
				return 'rgba(' + randomColorFactor() + ','
						+ randomColorFactor() + ',' + randomColorFactor() + ','
						+ (opacity || '.3') + ')';
			};

			var config_interna = {
				type : 'line',
				data : {
					xLabels : [ "0", "1:00", "2:00", "3:00", "4:00", "5:00",
							"6:00" ],
					yLabels : [ '15', '12', '9', '6', '3', '2', '0' ],
					datasets : [ {
						label : "Temperatura Interna",
						data : [ '15', '9', '12', '9', '12', '9', '6', '3' ],
						fill : false,
						borderDash : [ 5, 5 ],
					} ]
				},
				options : {
					responsive : true,
					title : {
						display : true,
						text : 'Chart.js Line Chart'
					},
					scales : {
						xAxes : [ {
							display : true,
							scaleLabel : {
								display : true,
								labelString : 'Tiempo [Hr]'
							}
						} ],
						yAxes : [ {
							type : 'category',
							position : 'left',
							display : true,
							scaleLabel : {
								display : true,
								labelString : 'T [°C]'
							},
							ticks : {
								reverse : true
							}
						} ]
					}
				}
			};

			$.each(config_interna.data.datasets, function(i, dataset) {
				dataset.borderColor = randomColor(0.4);
				dataset.backgroundColor = randomColor(0.5);
				dataset.pointBorderColor = 'rgba(76,84,19,0.4)';
				dataset.pointBackgroundColor = randomColor(0.5);
				dataset.pointBorderWidth = 2;
			});

			var config_externa = {
				type : 'line',
				data : {
					xLabels : [ "0", "1:00", "2:00", "3:00", "4:00", "5:00",
							"6:00" ],
					yLabels : [ '25', '24', '23', '22', '21', '20' ],
					datasets : [ {
						label : "Temperatura Externa",
						data : [ '23', '23', '22', '23', '22', '22', '23', '22' ],
						fill : false,
						borderDash : [ 5, 5 ],
					} ]
				},
				options : {
					responsive : true,
					title : {
						display : true,
						text : 'Chart.js Line Chart'
					},
					scales : {
						xAxes : [ {
							display : true,
							scaleLabel : {
								display : true,
								labelString : 'Tiempo [Hr]'
							}
						} ],
						yAxes : [ {
							type : 'category',
							position : 'left',
							display : true,
							scaleLabel : {
								display : true,
								labelString : 'T [°C]'
							},
							ticks : {
								reverse : true
							}
						} ]
					}
				}
			};

			$.each(config_externa.data.datasets, function(i, dataset) {
				dataset.borderColor = randomColor(0.4);
				dataset.backgroundColor = randomColor(0.5);
				dataset.pointBorderColor = 'rgba(20,20,20,0.4)';
				dataset.pointBackgroundColor = randomColor(0.5);
				dataset.pointBorderWidth = 2;
			});

			var config_peso = {
				type : 'line',
				data : {
					xLabels : [ "0", "1:00", "2:00", "3:00", "4:00", "5:00",
							"6:00" ],
					yLabels : [ 'Demasiado', 'Alto', 'Medio', 'Bajo' ],
					datasets : [ {
						label : "Peso",
						data : [ 'Bajo', 'Medio', 'Alto', 'Medio', 'Alto',
								'Demasiado' ],
						fill : false,
						borderDash : [ 5, 5 ],
					} ]
				},
				options : {
					responsive : true,
					title : {
						display : true,
						text : 'Chart.js Line Chart'
					},
					scales : {
						xAxes : [ {
							display : true,
							scaleLabel : {
								display : true,
								labelString : 'Tiempo [Hr]'
							}
						} ],
						yAxes : [ {
							type : 'category',
							position : 'left',
							display : true,
							scaleLabel : {
								display : true,
								labelString : 'Peso'
							},
							ticks : {
								reverse : true
							}
						} ]
					}
				}
			};

			$.each(config_peso.data.datasets, function(i, dataset) {
				dataset.borderColor = randomColor(0.4);
				dataset.backgroundColor = randomColor(0.5);
				dataset.pointBorderColor = 'rgba(20,20,20,0.4)';
				dataset.pointBackgroundColor = randomColor(0.5);
				dataset.pointBorderWidth = 2;
			});

			window.onload = function() {
				var ctx = document.getElementById("temperatura_interna")
						.getContext("2d");
				window.myLineInterna = new Chart(ctx, config_interna);

				var ctx = document.getElementById("temperatura_externa")
						.getContext("2d");
				window.myLineExterna = new Chart(ctx, config_externa);

				var ctx = document.getElementById("peso").getContext("2d");
				window.myLineExterna = new Chart(ctx, config_peso);
			};
		</script>
	</div>
</body>

</html>
